From dd430afbf874f6212742c079d72b4b9e959e0542 Mon Sep 17 00:00:00 2001
From: Vladimir Serbinenko <phcoder@gmail.com>
Date: Sat, 24 Jan 2015 21:55:18 +0100
Subject: [PATCH 205/506] font: Add missing free.

Found by: Coverity Scan.
---
 grub-core/font/font.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/grub-core/font/font.c b/grub-core/font/font.c
index 14b93e1..607964b 100644
--- a/grub-core/font/font.c
+++ b/grub-core/font/font.c
@@ -777,6 +777,7 @@ grub_font_get_glyph_internal (grub_font_t font, grub_uint32_t code)
 	  if (grub_file_read (font->file, glyph->bitmap, len) != len)
 	    {
 	      remove_font (font);
+	      grub_free (glyph);
 	      return 0;
 	    }
 	}
-- 
2.4.3

