From fe6695b7d6cd8beae55981b5efbd21f592a0afc0 Mon Sep 17 00:00:00 2001
From: Vladimir Serbinenko <phcoder@gmail.com>
Date: Fri, 20 Mar 2015 12:59:00 +0100
Subject: [PATCH 368/506] emunet: Fix init error checking.

Otherwise emunet doesn't expose any cards.
---
 grub-core/net/drivers/emu/emunet.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/grub-core/net/drivers/emu/emunet.c b/grub-core/net/drivers/emu/emunet.c
index 7c977cd..b194920 100644
--- a/grub-core/net/drivers/emu/emunet.c
+++ b/grub-core/net/drivers/emu/emunet.c
@@ -98,7 +98,7 @@ static int registered = 0;
 
 GRUB_MOD_INIT(emunet)
 {
-  if (grub_emunet_create (&emucard.mtu))
+  if (!grub_emunet_create (&emucard.mtu))
     {
       grub_net_card_register (&emucard);
       registered = 1;
-- 
2.4.3

