From aee2502cb54d29d7d86240be7259895bdee15d07 Mon Sep 17 00:00:00 2001
From: Vladimir Serbinenko <phcoder@gmail.com>
Date: Sat, 21 Feb 2015 16:07:59 +0100
Subject: [PATCH 300/506] Provide __aeabi_mem{cpy,set}

Fixes ARM compilation
---
 grub-core/kern/misc.c | 4 ++++
 include/grub/misc.h   | 5 +++++
 2 files changed, 9 insertions(+)

diff --git a/grub-core/kern/misc.c b/grub-core/kern/misc.c
index c5c815d..883d353 100644
--- a/grub-core/kern/misc.c
+++ b/grub-core/kern/misc.c
@@ -735,6 +735,10 @@ __ctzsi2 (grub_uint32_t x)
 grub_uint32_t
 __aeabi_uidiv (grub_uint32_t a, grub_uint32_t b)
   __attribute__ ((alias ("__udivsi3")));
+void *__aeabi_memcpy (void *dest, const void *src, grub_size_t n)
+  __attribute__ ((alias ("grub_memcpy")));
+void *__aeabi_memset (void *s, int c, grub_size_t n)
+  __attribute__ ((alias ("grub_memset")));
 #endif
 
 #if defined (__ia64__)
diff --git a/include/grub/misc.h b/include/grub/misc.h
index 4b6ee06..e35934c 100644
--- a/include/grub/misc.h
+++ b/include/grub/misc.h
@@ -469,6 +469,11 @@ EXPORT_FUNC (__muldi3) (grub_uint64_t a, grub_uint64_t b);
 grub_uint64_t
 EXPORT_FUNC (__aeabi_lmul) (grub_uint64_t a, grub_uint64_t b);
 
+void *
+EXPORT_FUNC (__aeabi_memcpy) (void *dest, const void *src, grub_size_t n);
+void *
+EXPORT_FUNC(__aeabi_memset) (void *s, int c, grub_size_t n);
+
 #endif
 
 #if defined (__ia64__)
-- 
2.4.3

